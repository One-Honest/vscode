<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>78.循环索引的同步问题(let)</title>
</head>
<body>
    <button>按钮1</button>
    <button>按钮2</button>
    <button>按钮3</button>
    <img src="images/bibaoletlizi.png" alt="">
    <img src="images/bibaolet.png" alt="">
    <script>
        let oDivs=document.querySelectorAll("button");
        for(let i=0;i<oDivs.length;i++){
            let oDiv=oDivs[i];
            oDiv.onclick=function(){
                console.log(i);
            }
        }
         //ES6中在循环语句中使用let定义的变量是局部变量;
        /*例1:
        let list=[];
        for(let i=0;i<3;i++){//注意点:由于i为let定义的局部变量,所以每次执行完循环体之后都会再定义一个i变量并开辟一个新的存储空间给它;
                                //改为var的话所有获取的i都是循环之后的i;
            let fn=function test(){
                console.log(i);
            }
            list.push(fn);
        }
        list[0]();
        list[1]();
        list[2]();
        // console.log(i);会报错,因为let定义的i为局部变量,只在循环语句中有效; */

//for循环中通过let定义变量的特点:1.该变量为局部变量2.每一次循环都重新定义该变量(即每个循环体都有属于自己的变量)3.循环体中再定义函数则该函数为闭包函数;
       /*  for(let i=0;i<3;i++){
            //注意点:由于在ES6中{}是块级作用域,所以只要在块级作用域中定义了一个函数并且这个函数用到了块级作用域中的数据,那这个函数就是闭包函数;
            function test(){
                console.log(i);//后定义的会覆盖先定义的
            }
        }
        test();//此处会输出2是因为test是闭包函数; */
    </script>
</body>
</html>